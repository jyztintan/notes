# Randomised Quick Sort

## Implementation

- Step 1: Choose a pivot
- Step 2: Swap pivot to index 0.
- Step 3: Partition elements into 2 separate sections
  - Elements < pivot, s1
  - Elements > pivot, s2
  - Handle elements == pivot by either allocating it to a specific array, or by randomising the array it is allocated to → affects time complexity
- Step 4: While iterating through the elements, if we encounter an element that should be in s1 instead of s2, we can simply swap the first elements of s2 and new element instead of insertion.
- Step 5: After every iteration, swap pivot and last element of s1
- Step 6: Recursion on s1 and s2 (Repeats Step 1-5) until we get a array with 1 element (it is sorted by default)

## Time Complexity

Although Quick Sort and Merge Sort have both $O(n \log n)$ time complexity, QS is **_usually_** slightly faster than MS.

### Non-randomised Quick Sort

Generally regarded as $O(N \log N)$ time complexity

#### Best Case: Pivot always splits array into 2 equal halves

- When this happens, the depth of recursion is only $O(\log N)$
- Each level takes $O(N)$ comparisons → iterate through remaining and see if assign to s1 or s2
- Time Complexity: $O(N \log N)$

#### Worst Case: Sorted/Almost Sorted

It will become O($N^2$) purely because it will take each next element as pivot and iterate through remaining elements.

                          $Number \space of \space iterations = (N-1)+(N-2)+...1$

### Randomised Quick Sort

- Whether you use 1 or 2 pivots, the **asymptotic** run time could be said to be the same
  - 1 pivot → O$O(n\log 2n) \approx O(n\log n)$
  - 2 pivot → $O(n\log 3n) \approx O(n\log n)$

#### Almost Sorted

$O(n\log n)$ time complexity, randomly picked pivots

### Handling equal elements

If we insists that equal elements is allocated to a specific array, using a randomised QS will still result in a $O(N^2)$ algorithm for the test case with all identical elements.

# Space Complexity

Depth of recursion causes Quick Sort to use $O(\log N)$ space in the stack

# Stability

NOT STABLE WHETHER RANDOMISED OR NOT
